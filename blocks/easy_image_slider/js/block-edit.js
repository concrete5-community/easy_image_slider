(()=>{var e,i={277:()=>{!function(){"use strict";function e(e,i){var t=this;t.sliderEntriesContainer=e,t.options=i,t._templateSlide=_.template($("#SlideTemplate").html()),t.isFirstFile=!0,t.filesetAlreadyChoosed=[],t.$easyImageSave=$("#easy_image_save"),t.fileUploadArgs={url:CCM_DISPATCHER_FILENAME+"/ccm/system/file/upload",dataType:"json",formData:{ccm_token:CCM_SECURITY_TOKEN},add:function(e,i){var n=i.files[0];/\.(gif|jpg|jpeg|tiff|png)$/i.test(n.name)?n.size>6e6?alert(t.options.i18n.imageSize):i.submit():alert(t.options.i18n.imageOnly)},send:function(e,i){t.isFirstFile?t.initUploadActionOnItem($(e.target)):(i.newItem=t.fillSlideTemplate(),t.initUploadActionOnItem(i.newItem)),t.isFirstFile=!1},progress:function(e,i){var t=parseInt(i.loaded/i.total*100,10),n=i.newItem?i.newItem:$(e.target);t<95?n.find(".knob").val(t).change():(n.find(".knob").val(100).change(),n.find("canvas").is(".out")||(n.find("canvas").addClass("out"),n.find(".process").addClass("in")))},done:function(e,i){var n=i.newItem?i.newItem:$(e.target);$.get(t.options.getFileDetailDetailUrl,{fID:(i.result.files||i.result)[0].fID},(function(e){t.fillSlideTemplate(e,n)}),"json")},fail:function(e){var i=e.responseText;try{i=$.parseJSON(i).errors.join("<br/>")}catch(e){}ConcreteAlert.dialog(t.options.i18n.error,i)},stop:function(){t.isFirstFile=!0,t.fillSlideTemplate()}},$.fn.replaceWithPush=function(e){var i=$(e);return this.replaceWith(i),i},$("#fsID").on("change",(function(){var e=$(this),i=e.val();$.inArray(i,t.filesetAlreadyChoosed)>-1&&!confirm(t.options.i18n.filesetAlreadyPicked)||(t.filesetAlreadyChoosed.push(i),$.get(t.options.getFilesetImagesURL,{fsID:i},(function(i){i.length&&($.each(i,(function(e,i){t.fillSlideTemplate(i),t.refreshManager()})),e.val(0))}),"json"))})),$(".option-button").on("click",(function(){var e=$(this),i=$("#"+e.attr("rel"));t.optionsSlideToggle(e,i)})),$(".easy_image_options_close").on("click",(function(){$(".options-content").slideUp()})),t.fillSlideTemplate(),t.$easyImageSave.on("click",(function(){$("#ccm-block-form").submit(),ConcreteEvent.fire("EditModeExitInlineSaved"),ConcreteEvent.fire("EditModeExitInline",{action:"save_inline"})})),$("#easy_image_cancel").on("click",(function(){ConcreteEvent.fire("EditModeExitInline"),Concrete.getEditMode().scanBlocks()}))}e.prototype={attachUploadEvent:function(e){var i=e.find("input.browse-file");0!==i.length&&(e.fileupload(this.fileUploadArgs),e.find(".upload-file").on("click",(function(e){e.preventDefault(),i.click()})))},initUploadActionOnItem:function(e){e.find(".knob").knob(),e.find(".add-file-control").hide()},attachFileManagerLaunch:function(e){var i=this;e.find(".add-file").click((function(t){t.preventDefault();var n=e;ConcreteFileManager.launchDialog((function(e){$.get(i.options.getFileDetailDetailUrl,{fID:e.fID},(function(e){if("Image"===e.type||e.type===i.options.i18n.image)return $.fn.dialog.hideLoader(),i.fillSlideTemplate(e,n),void i.fillSlideTemplate();$.fn.dialog.hideLoader(),alert(i.options.i18n.imageOnly)}),"json")}))}))},fillSlideTemplate:function(e,i){var t,n={fID:"",title:"",link_url:"",cID:"",description:"",sort_order:"",image_url:"",image_link:"",image_link_text:"",image_thumbnail_width:"",image_bg_color:"#fff"};return e&&$.extend(n,{fID:e.fID,title:e.title,description:e.description,sort_order:"",image_url:e.urlInline,image_link:e.image_link,image_link_text:e.image_link_text,image_thumbnail_width:e.image_thumbnail_width,image_bg_color:e.image_bg_color}),i?t=i.replaceWithPush(this._templateSlide(n)):(this.sliderEntriesContainer.append(this._templateSlide(n)),t=$(".slide-item").last()),e?(this.attachDelete(t),this.initImageEdit(t,e),t.find(".browse-file").remove(),t.find(".image-fID").val(e.fID)):(this.attachFileManagerLaunch(t),this.attachUploadEvent(t,this.fileUploadArgs)),this.refreshManager(),t},attachDelete:function(e){var i=this;e.find(".remove-item").click((function(){confirm(i.options.i18n.confirmDeleteImage)&&($(this).closest(".slide-item").remove(),i.refreshManager())}))},initImageEdit:function(e,i){var t=this;e.find(".dialog-launch").dialog(),e.find(".editable-click").editable({ajaxOptions:{dataType:"json"},emptytext:t.options.i18n.none,showbuttons:!0,url:t.options.saveFieldURL,params:{fID:i.fID},pk:"_x"}),e.find(".editable-click").on("shown",(function(e){$(e.target).closest(".slide-item-toolbar").addClass("active")})),e.find(".editable-click").on("hidden",(function(e){$(e.target).closest(".slide-item-toolbar").removeClass("active")})),e.find("#ccm-colorpicker-bg-"+i.fID).spectrum({appendTo:e,className:"ccm-widget-colorpicker",showButtons:!0,showInitial:!0,showInput:!0,allowEmpty:!0,preferredFormat:"rgba",showAlpha:!1,change:function(e){t.saveFileAttribute(i.fID,"image_bg_color",e.toHexString())}})},refreshManager:function(){$(".slide-item").not(".filled").appendTo(this.sliderEntriesContainer),this.sliderEntriesContainer.sortable({handle:".handle"}),$(".slide-item.filled").length?this.$easyImageSave.is(".disabled")&&this.$easyImageSave.removeClass("disabled"):this.$easyImageSave.addClass("disabled")},saveFileAttribute:function(e,i,t){$.post(this.options.saveFieldURL,{fID:e,name:i,value:t})},optionsSlideToggle:function(e,i){e=e.toggleClass("active"),$(".option-button").not(e).removeClass("active"),$(".options-content").not(i).slideUp(),e.is(".active")?i.slideDown():i.slideUp()}},window.EasySlideManager=e}()},606:()=>{},847:()=>{},325:()=>{},20:()=>{},470:()=>{},377:()=>{},695:()=>{}},t={};function n(e){var a=t[e];if(void 0!==a)return a.exports;var o=t[e]={exports:{}};return i[e](o,o.exports,n),o.exports}n.m=i,e=[],n.O=(i,t,a,o)=>{if(!t){var l=1/0;for(c=0;c<e.length;c++){for(var[t,a,o]=e[c],s=!0,r=0;r<t.length;r++)(!1&o||l>=o)&&Object.keys(n.O).every((e=>n.O[e](t[r])))?t.splice(r--,1):(s=!1,o<l&&(l=o));if(s){e.splice(c--,1);var d=a();void 0!==d&&(i=d)}}return i}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[t,a,o]},n.o=(e,i)=>Object.prototype.hasOwnProperty.call(e,i),(()=>{var e={769:0,975:0,425:0,962:0,177:0,26:0,817:0,786:0};n.O.j=i=>0===e[i];var i=(i,t)=>{var a,o,[l,s,r]=t,d=0;if(l.some((i=>0!==e[i]))){for(a in s)n.o(s,a)&&(n.m[a]=s[a]);if(r)var c=r(n)}for(i&&i(t);d<l.length;d++)o=l[d],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(c)},t=self.webpackChunkeasy_image_slider=self.webpackChunkeasy_image_slider||[];t.forEach(i.bind(null,0)),t.push=i.bind(null,t.push.bind(t))})(),n.O(void 0,[975,425,962,177,26,817,786],(()=>n(277))),n.O(void 0,[975,425,962,177,26,817,786],(()=>n(325))),n.O(void 0,[975,425,962,177,26,817,786],(()=>n(20))),n.O(void 0,[975,425,962,177,26,817,786],(()=>n(470))),n.O(void 0,[975,425,962,177,26,817,786],(()=>n(377))),n.O(void 0,[975,425,962,177,26,817,786],(()=>n(695))),n.O(void 0,[975,425,962,177,26,817,786],(()=>n(606)));var a=n.O(void 0,[975,425,962,177,26,817,786],(()=>n(847)));a=n.O(a)})();